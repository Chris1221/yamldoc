# Tutorials

The following tutorials assumes knowledge of how to interact with files in a command line environment. Otherwise, basic Linux skills and an understanding of Python syntax will be an asset. 

## Flat YAML

The most common use case for this software will be to generate configuration for a flat file of configuration options. In this case, there are many parameters, each with a name, and a value. See below for a minimal example.

```yaml
#' Here is some meta data.
meta: "Data"

#' And here is 
#' some more
#' split over
#' a couple of lines.
fun: True
```

Each value has a name, a colon, and a value. Above each value we have given meta data in a comment with a specific prefix `#'`. This can be whatever character you want, so long as it is consistent. You can give different prefix characters with the `-c` flag. 

To create a report from this file, point `yamldoc` to it.

```sh
yamldoc test/yaml/basic.yaml
```

Which gives 

> ### Configuration Parameters Reference

> Any information about this page goes here.

> | Key | Value | Information |
> | :-: | :-: | :-- |
> | `meta` | `"Data"` | Here is some meta data. |
> | `fun` | `True` | And here is some more split over a couple of<br />lines. |

> ---
> Generated by [yamldoc](https://github.com/chris1221/yaml.doc) v0.1.2 on 2020-10-06

Notice how `yamldoc` intelligently joins and wraps long comments to fit inside the table. In later tutorials, we will see how to extend this and automatically embed the results in Sphinx documentation.

## Flat YAML with Schema

A developer can choose to additionally validate the input that a user gives in a YAML file through a schema. For more information on the version of schema that is implemented here, see the [documentation](https://json-schema.org/).  

Here is an example of a schema file for the above example.

```json
$schema: "http://json-schema.org/draft-04/schema#"

type: object

properties:
        meta:
                type: string
        fun:
                type: bool
```

A schema must contain a link to the original definition, here given as a link, and a description of each variable. In this case, the schema is simple. It is describing an object with two properties (variables), `meta`, and `fun`. It succinctly gives the expected type declaration for these variables, which can be validated at run time.

To include this in the above report with `yamldoc`, set the `-s` flag.

```sh
yamldoc test/yaml/basic.yaml -s test/schema/basic.schema
```

Which outputs:

> ### Configuration Parameters Reference
> Any information about this page goes here.

> | Key | Value | Type | Information |
> | :-: | :-: | :-: | :-- |
> | `meta` | `"Data"` | string | Here is some meta data. |
> | `fun` | `True` | bool | And here is some more split over a couple of<br />lines. |

> ---
> Generated by [yamldoc](https://github.com/chris1221/yaml.doc) v0.1.2 on 2020-10-06

The difference between these two reports is the inclusion of the `Type` column. 

## Modifying the Title and Description

Though the title and description of this page can easily be edited after it is generated, we also include a special declaration in the schema file to modify these easily.

Edit the schema file from before and add the following lines:

```yaml
$schema: "http://json-schema.org/draft-04/schema#"

_yamldoc_title: My Awesome Title
_yamldoc_description: This can be a long string or paragraph talking about your parameters and describing how to use them. You can use line breaks too, you just have to write them manually.<br><br> Isn't that cool?

type: object

properties:
        meta:
                type: string
        fun:
                type: bool
```

Which gives

> ### My Awesome Title

> This can be a long string or paragraph talking about your parameters and describing how to use them. You can use line breaks too, you just have to write them manually.<br><br> Isn't that cool?

> | Key | Value | Type | Information |
> | :-: | :-: | :-: | :-- |
> | `meta` | `"Data"` | string | Here is some meta data. |
> | `fun` | `True` | bool | And here is some more split over a couple of<br />lines. |

> ---
> Generated by [yamldoc](https://github.com/chris1221/yaml.doc) v0.1.2 on 2020-10-06

## Hierarchical YAML

`yamldoc` also includes support for a maximum of two levels deep hierarchical representations of `data`. For examples, see `test/yaml/two_level.yaml` and `test/schema/two_level.schema`. The program is run the same way.
